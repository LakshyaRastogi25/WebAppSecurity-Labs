---
# Lab: 1 Stored XSS into HTML context with nothing encoded
## **Write-Up: Stored XSS in Blog Comment Section**  

### **Overview**  
This lab demonstrates a **Stored Cross-Site Scripting (XSS) vulnerability** in the blog’s comment functionality. Unlike **Reflected XSS**, which executes immediately, **Stored XSS** persists in the application and affects all users who view the compromised page.  

### **Steps to Exploit**  

1. **Identifying a Potential Injection Point:**  
   - The website has a comment section where users can enter a name, email, website, and a comment.  
   - Since comments are stored and displayed on the blog, I tested for possible XSS injection.  

2. **Injecting a Malicious Script:**  
   - In the comment box, I entered the following payload:  
     ```html
     <script>alert(1)</script>
     ```  
   - I filled in the other required fields (name, email, and website) and clicked **"Post comment"**.  

3. **Triggering the XSS Payload:**  
   - After submitting the comment, I navigated back to the blog post.  
   - The alert box popped up, confirming that my JavaScript payload was executed.  
   - This means that every visitor to the blog post will also execute this script in their browser.   

--- 

# **Lab Write-Up: Stored XSS into anchor href attribute with double quotes HTML-encoded**  

### **Step 1: Understanding the Vulnerability**  
- The **comment functionality** is vulnerable to **stored XSS**.  
- User input is reflected inside the **`href` attribute** of the comment author’s name:  

  ```html
  <a id="author" href="USER_INPUT">Author Name</a>
  ```  
- Our goal is to **inject JavaScript into the `href` attribute** so that clicking the author’s name executes `alert(1)`.  

---

### **Step 2: Crafting the Payload**  
Since our input is placed inside `href`, we can use the **`javascript:` pseudo-protocol** to execute JavaScript when the link is clicked.  

**Final Payload:**  
```
javascript:alert(1)
```

---

### **Step 3: Exploiting the Vulnerability**  
1. **Go to the comment section** of the website.  
2. **Submit a comment** with your payload as the author’s name or website field:  
   ```
   javascript:alert(1)
   ```
3. **After submission, inspect the rendered HTML** to confirm your input is reflected inside `href`:  
   ```html
   <a id="author" href="javascript:alert(1)">Author Name</a>
   ```
4. **Click on the author’s name**, and the JavaScript executes, displaying an alert box.  

---

### **Step 4: Lab Completion**  
- The **`alert(1)` executes successfully** when the author name is clicked.  
- This confirms a **successful stored XSS attack**.  
- **Lab is now solved!**  

