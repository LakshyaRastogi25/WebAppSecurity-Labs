**Lab: Information disclosure in version control history**

**1. Identifying the Vulnerability:**

The lab contained an exposed .git directory, which allowed access to the version control history of the application.

By browsing to http://<lab-id>.web-security-academy.net/.git/, I was able to confirm the presence of Git version control data.

Downloading the .git Directory:

Using the wget command, I recursively downloaded the entire .git directory:

**wget -r https://<lab-id>.web-security-academy.net/.git/**

This fetched all the Git repository metadata, including commit history and configuration files.

**2. Reconstructing the Git Repository:**

After downloading the .git directory, I navigated to the directory and used Git to reset and reconstruct the repository:

cd <downloaded-directory>/.git/

This restored the repository to its last known state based on the commit history.

Analyzing the Commit History:

**3.I checked the commit history using the command:**

git log --oneline

**4. This revealed two commits:**

5b2a1ea: "Remove admin password from config"

6994af5: "Add skeleton admin panel"

The relevant commit for the lab was 5b2a1ea, which mentioned the removal of the admin password from the configuration file (admin.conf).

**5. Inspecting the Commit Diff:**

To examine the specific changes made in commit 5b2a1ea, I used:

git show 5b2a1ea

The diff revealed that the commit replaced a hard-coded admin password (4ogk1bxrznrobkl1prxn) with an environment variable (env('ADMIN_PASSWORD')).

The hard-coded password was still visible in the commit diff, which was the key piece of information needed to log in as the administrator.

**Logging in to the Admin Panel:**

With the leaked password (4ogk1bxrznrobkl1prxn), I navigated to the admin login page of the lab.

Using the username administrator and the leaked password, I successfully logged in to the admin interface.

Deleting the User "Carlos":

After gaining access to the admin panel, I followed the instructions in the lab to delete the user "Carlos."

This completed the labâ€™s objective and solved the challenge.
